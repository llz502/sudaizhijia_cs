webpackJsonp([4],{"+DEe":function(e,n){},"8nxQ":function(e,n){},"991W":function(e,n){},EULG:function(e,n){},QHgX:function(e,n,s){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=s("7+uW"),i={name:"login",created:function(){window.screen.width<1024?document.documentElement.style.fontSize="50px":document.documentElement.style.fontSize="80px"}},o={render:function(){var e=this.$createElement,n=this._self._c||e;return n("div",{attrs:{id:"login"}},[n("router-view")],1)},staticRenderFns:[]},r=s("VU/8")(i,o,!1,function(e){s("+DEe")},null,null).exports,a=s("/ocq"),c=s("sDUm"),d=s.n(c),l=s("evz4"),g=s.n(l);g.a.init({appId:"kmy1fiDcmf8yMtLr0oLfIEbA-gzGzoHsz",appKey:"0HAmxLH0qELo9w7rb4QJN1QO"});g.a;var u=function(e,n,s){g.a.User.requestLoginSmsCode(e).then(function(e){n(e)},function(e){s&&s(e)})},f=function(e,n,s,t){g.a.User.logInWithMobilePhoneSmsCode(e,n).then(function(e){s(e)},function(e){t&&t(e)})},p=function(e,n,s){g.a.Cloud.requestSmsCode(e).then(function(s){console.log("phone",e),n(s)},function(e){console.log(e),s&&s(e)})},v=function(e,n,s,t){g.a.User.signUpOrlogInWithMobilePhone(e,n).then(function(e){s(e)},function(e){t&&t(e)})},m=function(e,n,s){g.a.User.requestPasswordResetBySmsCode(e).then(function(e){n(e)},function(e){s&&s(e)})},h=function(e,n,s,t){g.a.User.resetPasswordBySmsCode(e,n).then(function(e){s(e)},function(e){t&&t(e)})},U={data:function(){return{left:!0,right:!1,loginTitle:"登录",active:"tab-container2",signInUserPhoneNumber:"",signInUserIdentifyingCode:"",sendSignInIdentifyingCode:!1,signInUserSecs:60,signUpUserPhoneNumber:"",signUpUserIdentifyingCode:"",sendSignUpIdentifyingCode:!1,signUpUserPassword:"",signUpUserSecs:60,forgottenPasswordPhone:"",forgottenPasswordCode:"",sendforgottenPasswordCode:!1,newPassword:"",forgottenSecs:60}},methods:{getSmsCodeTosignInSuccessFn:function(e){var n=this;this.sendSignInIdentifyingCode=!0;var s=setInterval(function(){n.signInUserSecs-=1,0===n.signInUserSecs&&(clearInterval(s),n.sendSignInIdentifyingCode=!1,n.signInUserSecs=60)},1e3)},quickSignInSuccessFn:function(e){var n=this;this.signInUserPhoneNumber=this.signInUserIdentifyingCode="",this.sendSignInIdentifyingCode=!0;var s=setInterval(function(){n.signInUserSecs-=1,0===n.signInUserSecs&&(clearInterval(s),n.sendSignInIdentifyingCode=!1,n.signInUserSecs=60)},1e3);this.popupVisible=!1,this.logined=!0},getSmsCodeTosignUpSuccessFn:function(e){var n=this;this.sendSignUpIdentifyingCode=!0;var s=setInterval(function(){n.signUpUserSecs-=1,0===n.signUpUserSecs&&(clearInterval(s),n.sendSignUpIdentifyingCode=!1,n.signUpUserSecs=60)},1e3)},quickSignUpSuccessFn:function(e){Object(c.Toast)({message:"注册成功"}),this.signUpUserPhoneNumber=this.signUpUserPassword=this.signUpUserIdentifyingCode="",this.signUpUserSecs=60,this.sendSignUpIdentifyingCode=!1,this.signUpUserSecs=60},getSmsCodeToResetPasswordSuccessFn:function(e){var n=this;console.log(e),this.sendforgottenPasswordCode=!0;var s=setInterval(function(){n.forgottenSecs-=1,0===n.forgottenSecs&&(clearInterval(s),n.sendforgottenPasswordCode=!1,n.forgottenSecs=60)},1e3)},resetPasswordSuccessFn:function(e){Object(c.Toast)({message:"密码修改成功"}),this.forgottenPasswordPhone=this.newPassword=this.forgottenPasswordCode="",this.active="tab-container2",this.sendforgottenPasswordCode=!1,this.forgottenSecs=60},errorFn:function(e){Object(c.Toast)({message:e.rawMessage})},signInUserVerification:function(){u(this.signInUserPhoneNumber,this.getSmsCodeTosignInSuccessFn,this.errorFn)},signInUser:function(){f(this.signInUserPhoneNumber,this.signInUserIdentifyingCode,this.quickSignInSuccessFn,this.errorFn)},signUpUserVerification:function(){p(this.signUpUserPhoneNumber,this.getSmsCodeTosignUpSuccessFn,this.errorFn)},signUpNewUser:function(){v(this.signUpUserPhoneNumber,this.signUpUserIdentifyingCode,this.quickSignUpSuccessFn,this.errorFn)},forgetPasswordVerification:function(){m(this.forgottenPasswordPhone,this.getSmsCodeToResetPasswordSuccessFn,this.errorFn)},modifyPassword:function(){h(this.forgottenPasswordCode,this.newPassword,this.resetPasswordSuccessFn,this.errorFn)}}},w={render:function(){var e=this,n=e.$createElement,s=e._self._c||n;return s("div",{staticClass:"login_wrap"},[s("mt-header",{staticClass:"login_title",attrs:{title:e.loginTitle}},[s("a",{staticClass:"backhome",attrs:{slot:"left",href:"./index.html"},slot:"left"},[s("mt-button",{attrs:{icon:"back"}})],1)]),e._v(" "),s("div",{staticClass:"login_nav"},[s("mt-button",{nativeOn:{click:function(n){n.preventDefault(),e.active="tab-container2",e.loginTitle="登录",e.left=!0,e.right=!1}}},[e._v("登录")]),e._v(" "),s("mt-button",{nativeOn:{click:function(n){n.preventDefault(),e.active="tab-container3",e.loginTitle="注册",e.left=!1,e.right=!0}}},[e._v("注册")]),e._v(" "),s("div",{staticClass:"moveBlock",class:{left:e.left,right:e.right}})],1),e._v(" "),s("div",{staticClass:"tabs_content_container"},[s("div",{directives:[{name:"show",rawName:"v-show",value:"tab-container2"===e.active,expression:"active==='tab-container2'"}],staticClass:"normal_login"},[s("mt-field",{attrs:{label:"手机号码",placeholder:"输入手机号",type:"tel"},model:{value:e.signInUserPhoneNumber,callback:function(n){e.signInUserPhoneNumber=n},expression:"signInUserPhoneNumber"}}),e._v(" "),s("mt-field",{attrs:{label:"验证码",placeholder:"请输入验证码",type:"number"},model:{value:e.signInUserIdentifyingCode,callback:function(n){e.signInUserIdentifyingCode=n},expression:"signInUserIdentifyingCode"}},[s("mt-button",{directives:[{name:"show",rawName:"v-show",value:!e.sendSignInIdentifyingCode,expression:"!sendSignInIdentifyingCode"}],attrs:{type:"primary",size:"normal"},nativeOn:{click:function(n){e.signInUserVerification()}}},[e._v("\n          验证码\n        ")]),e._v(" "),s("mt-button",{directives:[{name:"show",rawName:"v-show",value:e.sendSignInIdentifyingCode,expression:"sendSignInIdentifyingCode"}],attrs:{type:"danger",size:"normal"}},[s("div",{staticClass:"timeout"},[e._v("\n            已发送"+e._s(e.signInUserSecs)+"秒\n          ")])])],1),e._v(" "),s("mt-button",{attrs:{type:"primary",size:"normal"},nativeOn:{click:function(n){e.signInUser()}}},[e._v("登录")])],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:"tab-container3"===e.active,expression:"active==='tab-container3'"}],staticClass:"signUp_wrap"},[s("mt-field",{attrs:{label:"手机号码",placeholder:"输入手机号",type:"tel"},model:{value:e.signUpUserPhoneNumber,callback:function(n){e.signUpUserPhoneNumber=n},expression:"signUpUserPhoneNumber"}}),e._v(" "),s("mt-field",{attrs:{label:"验证码",placeholder:"请输入验证码",type:"number"},model:{value:e.signUpUserIdentifyingCode,callback:function(n){e.signUpUserIdentifyingCode=n},expression:"signUpUserIdentifyingCode"}},[s("mt-button",{directives:[{name:"show",rawName:"v-show",value:!e.sendSignUpIdentifyingCode,expression:"!sendSignUpIdentifyingCode"}],attrs:{type:"primary",size:"normal"},nativeOn:{click:function(n){e.signUpUserVerification()}}},[e._v("\n          验证码\n        ")]),e._v(" "),s("mt-button",{directives:[{name:"show",rawName:"v-show",value:e.sendSignUpIdentifyingCode,expression:"sendSignUpIdentifyingCode"}],attrs:{type:"danger",size:"normal"}},[s("div",{staticClass:"timeout"},[e._v("\n            已发送"+e._s(e.signUpUserSecs)+"秒\n          ")])])],1),e._v(" "),s("mt-field",{attrs:{label:"密码",placeholder:"6-20位密码",type:"password"},model:{value:e.signUpUserPassword,callback:function(n){e.signUpUserPassword=n},expression:"signUpUserPassword"}}),e._v(" "),s("mt-button",{attrs:{type:"primary",size:"normal"},nativeOn:{click:function(n){e.signUpNewUser()}}},[e._v("注册")]),e._v(" "),s("mt-button",{attrs:{type:"primary",size:"normal"},on:{click:function(n){n.preventDefault(),e.active="tab-container4",e.loginTitle="找回密码"}}},[e._v("忘记密码")])],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:"tab-container4"===e.active,expression:"active==='tab-container4'"}],staticClass:"signUp_wrap"},[s("mt-field",{attrs:{label:"手机号码",placeholder:"输入手机号",type:"tel"},model:{value:e.forgottenPasswordPhone,callback:function(n){e.forgottenPasswordPhone=n},expression:"forgottenPasswordPhone"}}),e._v(" "),s("mt-field",{attrs:{label:"验证码",placeholder:"请输入验证码",type:"number"},model:{value:e.forgottenPasswordCode,callback:function(n){e.forgottenPasswordCode=n},expression:"forgottenPasswordCode"}},[s("mt-button",{directives:[{name:"show",rawName:"v-show",value:!e.sendforgottenPasswordCode,expression:"!sendforgottenPasswordCode"}],attrs:{type:"primary",size:"normal"},nativeOn:{click:function(n){e.forgetPasswordVerification()}}},[e._v("\n              验证码\n            ")]),e._v(" "),s("mt-button",{directives:[{name:"show",rawName:"v-show",value:e.sendforgottenPasswordCode,expression:"sendforgottenPasswordCode"}],attrs:{type:"danger",size:"normal"}},[s("div",{staticClass:"timeout"},[e._v("\n                已发送"+e._s(e.forgottenSecs)+"秒\n              ")])])],1),e._v(" "),s("mt-field",{attrs:{label:"新密码",placeholder:"6-20位密码",type:"password"},model:{value:e.newPassword,callback:function(n){e.newPassword=n},expression:"newPassword"}}),e._v(" "),s("mt-button",{attrs:{type:"primary",size:"normal"},nativeOn:{click:function(n){e.modifyPassword()}}},[e._v("确认修改")])],1)])],1)},staticRenderFns:[]},I=s("VU/8")(U,w,!1,function(e){s("8nxQ")},"data-v-4280203e",null).exports;t.default.use(a.a);var b=new a.a({routes:[{path:"/",name:"Login_wrap",component:I}]}),C=(s("EULG"),s("991W"),s("2sCs")),S=s.n(C);t.default.use(d.a),t.default.prototype.$ajax=S.a,t.default.config.productionTip=!1,new t.default({el:"#app",router:b,template:"<Login/>",components:{Login:r}})}},["QHgX"]);
//# sourceMappingURL=login.2d7a7170f7e3f4a697e7.js.map